title: GLM power analysis
name: pamlglm
jus: '2.0'
stage: 0
compilerMode: tame
events:
  update: './pamlj.events::update'
children:
  - type: LayoutBox
    margin: large
    children:
      - type: ComboBox
        name: aim
  - type: LayoutBox
    margin: large
    children:
      - type: Label
        label: Model information
        children:
          - name: es
            type: TextBox
            format: number
            enable: '(!aim:es)'
          - name: r2
            type: TextBox
            format: number
          - type: TextBox
            name: df_model
            format: number
      - type: LayoutBox
        margin: large
        children:
          - type: CheckBox
            name: power_r2
  - type: LayoutBox
    margin: large
    children:
      - type: Label
        label: Parameters
        children:
          - name: power
            type: TextBox
            label: Minimum desired power
            format: number
            enable: '(!aim:power)'
          - name: sample
            type: TextBox
            label: N (Sample size)
            format: number
            enable: '(!aim:n)'
          - name: alpha
            type: TextBox
            label: '&alpha; (type I error rate)'
            format: number
            enable: '(!aim:alpha)'
      - type: ComboBox
        name: tails
  - type: CollapseBox
    label: Sensitivity Analysis
    name: panel_sensitivity
    collapsed: true
    stretchFactor: 1
    children:
      - type: LayoutBox
        children:
          - type: Label
            label: Plots
            children:
              - type: CheckBox
                name: plot_contour
              - type: CheckBox
                name: plot_escurve
                enable: '(!aim:n)'
              - type: CheckBox
                name: plot_ncurve
                enable: '(!aim:es)'
  - type: CollapseBox
    label: Model definition
    name: panel_model
    collapsed: true
    stretchFactor: 1
    children:
      - type: LayoutBox
        children:
          - type: Label
            label: Variables in the model
            children:
              - type: LayoutBox
                style: inline
                children:
                  - name: covs
                    type: TextBox
                    format: number
                    events:
                        change: './pamlj.events::onChange_factors_list_change'
                  - name: covs_order
                    type: ComboBox
                    events:
                        change: './pamlj.events::onChange_factors_list_change'
                    
              - type: LayoutBox
                style: inline
                children:
                  - name: factors
                    type: TextBox
                    format: number
                    events:
                      change: './pamlj.events::onChange_factors'
                  - name: factors_order
                    type: ComboBox
                    events:
                       change: './pamlj.events::onChange_factors_list_change'

          - type: Label
            name: factors_group
            label: Factors definition
            children:
              - type: ListBox
                name: factors_list
                fullRowSelect: true
                height: large
                events:
                  change: './pamlj.events::onChange_factors_list_change'
                showColumnHeaders: true
                columns:
                  - name: var
                    label: Name
                    template:
                      type: Label
                  - name: levels
                    label: N levels (groups)
                    events: null
                    template:
                      type: TextBox
                      format: number
              - name: mixed_order
                type: ComboBox
                events:
                  change: './pamlj.events::onChange_factors_list_change'
        
